---
import type { GetStaticPaths } from 'astro'
import { sortPosts, getTags } from '@lib/util'
import { Page } from '@components'

export const getStaticPaths = (async ({ paginate }) => {
    const posts = await Astro.glob('/src/pages/posts/**/*.{md,mdx}')
    const tags = getTags(posts)

    return paginate(sortPosts(posts), { params: { page: undefined }, props: { tags }, pageSize: 30 })
}) satisfies GetStaticPaths

const { page, tags } = Astro.props
---

<Page {page} {tags} />
